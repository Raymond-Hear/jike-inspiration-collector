# 待办事项（TODO List）

> 最后更新：2025-01-08

本文档记录所有待实现的功能、需要修复的 bug 和改进建议。

---

## 🎯 优先级说明

- 🔴 **高优先级** - 重要且紧急，需要尽快处理
- 🟡 **中优先级** - 重要但不紧急，计划在下个版本处理
- 🟢 **低优先级** - 锦上添花的功能，有时间再做

---

## 🔴 高优先级

### Bug 修复

#### [BUG-001] 按钮注入完全失效 - 与预期相反
- **状态**：严重 - 需要立即修复
- **最后更新**：2025-01-08（修复后问题更严重）
- **描述**：按钮注入逻辑完全错误，与需求完全相反
- **影响范围**：所有页面功能
- **当前实际情况**（2025-01-08）：
  1. **首页/搜索页/推荐页**：完全没有按钮 ❌
  2. **详情页**：按钮只出现在评论区 ❌
  3. **主动态**：没有按钮 ❌

- **预期结果**：
  1. **首页/搜索页/推荐页**：每条动态的点赞评论旁边有按钮
  2. **详情页**：只有主动态的点赞评论旁边有按钮
  3. **评论区**：不应该有按钮

- **问题历史**：
  1. 最初版本：按钮位置不准确，有时在评论区
  2. 第一次修复：检查容器内容长度（≥50字符）
  3. 修复后：首页完全没有按钮了，详情页按钮只在评论区

- **控制台日志**（详情页）：
  ```
  📊 找到 18 个按钮，详情页模式
  📊 找到 0 个按钮组  ← 大部分时候找不到
  ```
  或
  ```
  📊 找到 1 个按钮组
  ✅ 详情页：已注入按钮到第一个按钮组
  📍 绑定的容器: jk-7yjp5b
  📝 从容器提取内容: ... 总长度: 0  ← 容器内容为空
  ```

- **控制台日志**（首页）：
  ```
  📊 找到 16 个按钮
  📊 找到 0 个按钮组  ← 完全找不到按钮组
  ```

- **根本原因分析**：
  - 按钮组的查找逻辑（向上查找3层）不够准确
  - 容器内容长度检查（≥50字符）过于严格，可能过滤掉了有效的容器
  - 需要重新设计按钮组识别策略

- **需要的信息**：
  - 首页动态的按钮组HTML结构
  - 详情页主动态的按钮组HTML结构
  - 评论区的按钮组HTML结构
  - 三者之间的区别特征

- **解决方案**：需要用户提供具体HTML结构，重新设计注入逻辑

#### [BUG-002] 长文本内容提取不完整
- **状态**：待验证
- **描述**：超长动态（超过2000字符）的内容可能被截断
- **影响范围**：内容收集功能
- **解决方案**：增加字符限制或实现分页提取

---

## 🟡 中优先级

### 功能增强

#### [FEAT-001] 添加编辑功能
- **状态**：待实现
- **描述**：允许用户编辑已收集的灵感（修改类型、笔记等）
- **优先级原因**：用户可能需要修正分类或补充笔记

#### [FEAT-002] 添加标签系统
- **状态**：待实现
- **描述**：为灵感添加自定义标签，支持多标签筛选
- **优先级原因**：便于管理和分类大量灵感

#### [FEAT-003] 批量操作
- **状态**：待实现
- **描述**：支持批量删除、批量修改类型等操作
- **优先级原因**：提升管理效率

#### [FEAT-004] 导出格式扩展
- **状态**：待实现
- **描述**：
  - 支持导出为 CSV 格式
  - 支持导出为 PDF 格式
  - 支持自定义导出模板
- **优先级原因**：满足不同用户的使用习惯

### 体验优化

#### [UX-001] 添加快捷键支持
- **状态**：待实现
- **描述**：
  - `Alt + I`：打开灵感收集弹窗
  - `Alt + L`：打开管理界面
- **优先级原因**：提升效率

#### [UX-002] 添加收集成功提示
- **状态**：待实现
- **描述**：收集成功后显示更明显的成功提示（Toast 通知）
- **优先级原因**：当前使用 alert，体验不够好

#### [UX-003] 优化移动端适配
- **状态**：待调研
- **描述**：检查并优化在移动设备上的显示效果
- **优先级原因**：即刻有移动端用户

---

## 🟢 低优先级

### 锦上添花

#### [NICE-001] 添加数据统计图表
- **状态**：待实现
- **描述**：在管理界面显示灵感收集趋势图、类型分布图等
- **优先级原因**：可视化的数据展示，增强用户体验

#### [NICE-002] 添加深色模式
- **状态**：待实现
- **描述**：支持跟随系统或手动切换深色模式
- **优先级原因**：视觉体验优化

#### [NICE-003] 添加灵感灵感推荐
- **状态**：待研究
- **描述**：基于已收集的内容，推荐相关的即刻动态
- **优先级原因**：AI 辅助功能，需要额外开发

#### [NICE-004] 添加云端同步
- **状态**：待研究
- **描述**：支持多设备间数据同步
- **优先级原因**：需要后端支持，成本较高

#### [NICE-005] 添加分享功能
- **状态**：待实现
- **描述**：
  - 生成分享链接（公开或加密）
  - 分享到社交媒体
- **优先级原因**：社交功能，提升传播度

---

## 📋 版本规划

### v0.0.2（计划中）
- 修复 [BUG-001] 详情页按钮注入问题
- 修复 [BUG-002] 长文本提取问题
- 实现 [FEAT-001] 编辑功能
- 实现 [UX-002] 收集成功提示优化

### v0.1.0（未来）
- 实现 [FEAT-002] 标签系统
- 实现 [FEAT-003] 批量操作
- 实现 [UX-001] 快捷键支持

### v0.2.0（未来）
- 实现 [FEAT-004] 导出格式扩展
- 实现 [NICE-001] 数据统计图表
- 实现 [NICE-002] 深色模式

---

## 💡 临时想法

> 在此记录一些暂未确定的想法和讨论

- [ ] 考虑添加"灵感灵感板"功能（类似 Pinterest 的画板）
- [ ] 考虑添加 AI 自动分类功能
- [ ] 考虑支持其他平台（微博、Twitter 等）
- [ ] 考虑添加浏览器右键菜单集成

---

## 📝 问题追踪模板

当发现新问题或新功能需求时，请按以下格式添加：

```markdown
#### [类型-序号] 标题
- **状态**：待实现 / 进行中 / 已完成 / 已取消
- **描述**：详细描述
- **影响范围**：影响的功能模块
- **优先级原因**：为什么是这个优先级
- **预计完成**：计划时间
- **负责人**：（可选）
```

---

**最后更新人**：Claude Code
**最后更新时间**：2025-01-08
